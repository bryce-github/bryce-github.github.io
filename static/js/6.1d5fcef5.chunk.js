(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[6],{311:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return b}));var o=i(3),n=(i(67),i(318)),a=i(317),s=i(77),r="How Python Imports Packages",l="Dec 12 2020",c="\nimport matplotlib\n".trim(),h="\nimport sys\nprint(sys.path)\n".trim(),d="\nimport sys\nsys.path.append(r'/path/to/module/directory')\nimport matplotlib\n".trim(),p="\npython3 -m site --user-site\n".trim(),u="\nimport site\nprint(site.getusersitepackages())\n".trim(),m="\n/path/to/module/directory\n".trim();function b(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:r}),Object(o.jsx)("p",{className:"dateText",children:l}),Object(o.jsx)("p",{children:"Understanding the import system in Python can be confusing at times, especially when you're running into unexpected import errors. In this post, we'll take a brief look into the python import system and provide the knowledge you need to fix that import error."}),Object(o.jsx)("h4",{children:"The Basics of Imports"}),Object(o.jsx)("p",{children:"So what does happen when you import a package? Let's say you're importing some package called matplotlib."}),Object(o.jsx)(n.a,{language:"python",style:a.a,children:c}),Object(o.jsx)("p",{children:"When you do this, Python will first look for a built-in module with that name. If that's not found, then it will search through a bunch of directories. As soon as it finds either"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"a file named matplotlib.py"}),Object(o.jsx)("li",{children:"a folder named matplotlib with a file named __init__.py inside"})]}),Object(o.jsx)("p",{children:"then it assumes it found the module and will import it. So, what directories will it look in? It will look in"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"the directory containing the script you're running, or the current directory when no file is specified"}),Object(o.jsx)("li",{children:'a list of directories commonly referred to as "PYTHONPATH"'})]}),Object(o.jsx)("p",{children:"This PYTHONPATH is an environment variable that defines all the directories to look in. If you're getting an import error, chances are that the package you're importing isn't in one of these directories."}),Object(o.jsxs)("p",{children:["To take a look, there's an easy way to check what directories are in your PYTHONPATH. When Python loads up, it will load all the PYTHONPATH directories into the ",Object(o.jsx)("code",{children:"path"})," variable in the built-in ",Object(o.jsx)("code",{children:"sys"})," module. To take a look, we can run"]}),Object(o.jsx)(n.a,{language:"python",style:a.a,children:h}),Object(o.jsx)("p",{children:"If you don't see your directory in this list, then there are a couple ways to get it there."}),Object(o.jsx)("h3",{children:"Option 1: Directly Modify sys.path"}),Object(o.jsx)("p",{children:"The easiest way to get there is to directly modify sys.path."}),Object(o.jsx)(n.a,{language:"python",style:a.a,children:d}),Object(o.jsx)("p",{children:"Python will now look inside this folder for either a matplotlib.py file or a matplotlib folder with an __init__.py file."}),Object(o.jsxs)(s.a,{variant:"info",children:['Prefixing a string with "r" means escape characters, like the newline character "/n", will be included as-is and not converted to to the escape character. I prefer to do this with file paths because escape characters can often lead to an invalid path. You can also use ',Object(o.jsx)("a",{href:"https://docs.python.org/3/library/pathlib.html",children:"pathlib"})," or use ",Object(o.jsx)("a",{href:"https://docs.python.org/3/library/os.path.html#os.path.join",children:"os.path.join"})," to intelligently create paths."]}),Object(o.jsx)("p",{children:"This method works, but be careful using it. The path on your computer might not be the same path on some else's computer. It also means injecting the path directly into the code, which in most cases should usually be handled by the environment."}),Object(o.jsx)("h3",{children:"Option 2: Add a path to PYTHONPATH"}),Object(o.jsxs)("p",{children:["Another option is to add a path to the PYTHONPATH environment variable. This will change depending on which operating system you use. This ",Object(o.jsx)("a",{href:"https://bic-berkeley.github.io/psych-214-fall-2016/using_pythonpath.html",children:"post"})," is a good reference on how to do that for different operating systems."]}),Object(o.jsx)("h3",{children:"Option 3: Add a Path Configuration File"}),Object(o.jsxs)("p",{children:["The last option is to add a path configuration file that holds all the directories you'd like to search. This file has the extension ",Object(o.jsx)("code",{children:".pth"}),". It doesn't matter what you call it, so you can call it mypackages.pth or danceparty.pth. All is fair game, though I would recommend using something a little more depictive."]}),Object(o.jsx)("p",{children:"This file needs to go in a specific directory, usually the site-packages directory (where Python stores all the packages you install using pip). A quick way to see this directory path from the command line is"}),Object(o.jsx)(n.a,{language:"shell",style:a.a,children:p}),Object(o.jsx)("p",{children:"or from within Python"}),Object(o.jsx)(n.a,{language:"python",style:a.a,children:u}),Object(o.jsx)("p",{children:"The contents of this file is a list of directories, one per line. So in our example case, it would just have the single line"}),Object(o.jsx)(n.a,{language:"shell",style:a.a,children:m}),Object(o.jsx)("p",{children:"Add this file and you're good to go. You can have multiple .pth files, or just one with all your paths. This option is a happy medium. It doesn't insert path modification code directly into your source code, and it doesn't require you to modify environment variables if you're not comfortable with that."}),Object(o.jsxs)("p",{children:["More information on this specific option can be found in this ",Object(o.jsx)("a",{href:"https://docs.python.org/3/library/site.html",children:"python documentation"}),"."]}),Object(o.jsx)("h3",{children:"In Conclusion"}),Object(o.jsx)("p",{children:"That about covers where Python looks for packages. Hopefully this information gets you past those pesky import errors."}),Object(o.jsxs)("p",{children:["For more information on modules, check out this ",Object(o.jsx)("a",{href:"https://docs.python.org/3/tutorial/modules.html",children:"Python documentation"})," on modules and this ",Object(o.jsx)("a",{href:"https://docs.python.org/3/reference/import.html",children:"Python documentation"})," on the import function that covers all this information and more. Happy coding!"]})]})}},67:function(e,t,i){},77:function(e,t,i){"use strict";var o,n=i(1),a=i(2),s=i(4),r=i.n(s),l=i(0),c=i.n(l),h=i(19),d=i(20),p=i(5),u=i(29),m=i(15),b=i(28),j=((o={})[m.b]="show",o[m.a]="show",o),y=c.a.forwardRef((function(e,t){var i=e.className,o=e.children,s=Object(a.a)(e,["className","children"]),h=Object(l.useCallback)((function(e){Object(b.a)(e),s.onEnter&&s.onEnter(e)}),[s]);return c.a.createElement(m.e,Object(n.a)({ref:t,addEndListener:u.a},s,{onEnter:h}),(function(e,t){return c.a.cloneElement(o,Object(n.a)({},t,{className:r()("fade",i,o.props.className,j[e])}))}))}));y.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},y.displayName="Fade";var f=y,O=i(8),g=i.n(O),x={label:g.a.string.isRequired,onClick:g.a.func},w=c.a.forwardRef((function(e,t){var i=e.label,o=e.onClick,s=e.className,l=Object(a.a)(e,["label","onClick","className"]);return c.a.createElement("button",Object(n.a)({ref:t,type:"button",className:r()("close",s),onClick:o},l),c.a.createElement("span",{"aria-hidden":"true"},"\xd7"),c.a.createElement("span",{className:"sr-only"},i))}));w.displayName="CloseButton",w.propTypes=x,w.defaultProps={label:"Close"};var k=w,v=i(68),P=i(27),T=i(18),N=Object(v.a)("h4");N.displayName="DivStyledAsH4";var H=Object(P.a)("alert-heading",{Component:N}),C=Object(P.a)("alert-link",{Component:T.a}),A={show:!0,transition:f,closeLabel:"Close alert"},E=c.a.forwardRef((function(e,t){var i=Object(h.a)(e,{show:"onClose"}),o=i.bsPrefix,s=i.show,l=i.closeLabel,u=i.className,m=i.children,b=i.variant,j=i.onClose,y=i.dismissible,O=i.transition,g=Object(a.a)(i,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),x=Object(p.a)(o,"alert"),w=Object(d.a)((function(e){j&&j(!1,e)})),v=!0===O?f:O,P=c.a.createElement("div",Object(n.a)({role:"alert"},v?g:void 0,{ref:t,className:r()(u,x,b&&x+"-"+b,y&&x+"-dismissible")}),y&&c.a.createElement(k,{onClick:w,label:l}),m);return v?c.a.createElement(v,Object(n.a)({unmountOnExit:!0},g,{ref:void 0,in:s}),P):s?P:null}));E.displayName="Alert",E.defaultProps=A,E.Link=C,E.Heading=H;t.a=E}}]);
//# sourceMappingURL=6.1d5fcef5.chunk.js.map